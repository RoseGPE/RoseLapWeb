$def with (vehicles, tracks, studies)

<link rel="stylesheet" type="text/css" href="/static/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/static/custom.css" />

<script type="text/javascript" src="/static/jquery.min.js" ></script>
<script type="text/javascript" src="/static/bootstrap.min.js" ></script>

<script>
	function new_vehicle() {
		let v = $$("#vehicleEditModal")
		v.modal('show')
		let te = $$("#vehicleEditText")
		te.value = "new_vehicle called"
	}

	function discard_vehicle_edit() {
		let v = $$("#vehicleEditModal")
		v.modal('hide')
		let te = $$("#vehicleEditText")
	}
	
	function save_vehicle() {
		let v = $$("#vehicleEditModal")
		v.modal('hide')
		let te = $$("#vehicleEditText")
	}
</script>

<!-- Modal -->
<div class="modal fade bd-example-modal-lg" id="vehicleEditModal" tabindex="-1" role="dialog" aria-labelledby="vehicleEditModal" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="vehicleEditModal">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <textarea id="vehicleEditText" class="textedit">Placeholder Text</textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="discard_vehicle_edit()">Close</button>
        <button type="button" class="btn btn-primary" onclick="save_vehicle()">Save changes</button>
      </div>
    </div>
  </div>
</div>

<nav class="navbar sticky-top navbar-toggleable-md navbar-secondary bg-faded">
	<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>

	<a class="navbar-brand" href="/">RoseLap Web</a>
</nav>
<br/>

<div class="container">

	<div class="row">
		<div class="col-sm-6">
			<button id="remove" class="btn btn-secondary">Vehicles</button>
			<button id="remove" class="btn btn-success" onclick="new_vehicle()">Create New</button>

			<table class="table table-striped">
				<thead>
					<tr>
						<th scope="col">Name</th>
						<th scope="col">Version</th>
						<th scope="col">Last Edit</th>
						<th scope="col">Errors</th>
						<th scope="col">Actions</th>
					</tr>
				</thead>
				$for vehicle in vehicles:
					<tr>
						<th>${vehicle.name}</th>
						<th>${vehicle.version}</th>
						<th>${vehicle.edit_date}</th>
						<th>
							$if vehicle.log:
								<button class="btn-xs btn-warning">Error Log</button>
							$else:
								OK
						</th>
						<th>
							<button class="btn btn-primary btn-xs" onclick="edit_vehicle(${vehicle.name}, ${vehicle.version})">Edit</button>
						</th>
					</tr>
			</table>

		</div>
		<div class="col-sm-6">

			<button id="remove" class="btn btn-secondary">Tracks</button>
			<button id="remove" class="btn btn-success" onclick="new_study()">Create New</button>

			<table class="table table-striped">
				<thead>
					<tr>
						<th scope="col">Name</th>
						<th scope="col">Version</th>
						<th scope="col">Last Edit</th>
						<th scope="col">Import</th>
					</tr>
				</thead>
				$for track in tracks:
					<tr>
						<th>${track.name}</th>
						<th>${track.version}</th>
						<th>${track.edit_date}</th>
						<th>
							$if track.log:
								<button class="btn-xs btn-warning">Error Log</button>
							$else:
								OK
						</th>
						<!--<th>
							<button class="btn-primary" onclick="edit_track(${track.name}, ${track.version})">Edit</button>
						</th>-->
					</tr>
			</table>
		</div>
	</div>

	<button id="remove" class="btn btn-secondary">Studies</button>
	<button id="remove" class="btn btn-success" onclick="new_study()">Create New</button>

	<table class="table table-striped">
		<thead>
			<tr>
				<th scope="col">Name</th>
				<th scope="col">Version</th>
				<th scope="col">State</th>
				<th scope="col">Actions</th>
			</tr>
		</thead>
		$for study in studies:
			<tr>
				<th>${study.name}</th>
				<th>${study.version}</th>
				$if study.status == 0:
					<th>
						Drafting (Edited ${study.edit_date})
					</th><th>
						<button class="btn btn-xs btn-primary">Edit & Submit</button>
				$elif study.status == 1:
					<th>
						Submitted (${study.submission_date})
					</th><th>
				$elif study.status == 2:
					<th>
						Running (${study.runs_complete}/${study.runs_total})
					</th><th>
						<button class="btn btn-xs btn-info">Log</button>
				$elif study.status == 3:
					<th>
						Failed (${study.completion_date})
					</th><th>
						<button class="btn btn-xs btn-warning">Log</button>
				$elif study.status == 4:
					<th>
						Finished (${study.completion_date})
					</th><th>
						<button class="btn btn-xs btn-info">Log</button>
						<button class="btn btn-xs btn-success">Results</button>
				$else:
					<th>
						Invalid Status
					</th><th>
						
				<button class="btn btn-xs btn-primary" onclick="edit_study(${study.name}, ${study.version})">Edit</button>
				<button class="btn btn-danger btn-xs" onclick="delete_vehicle(${vehicle.name}, ${vehicle.version})">Delete</button>
				</th>
			</tr>
	</table>
</div>