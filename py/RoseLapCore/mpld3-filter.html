

<style>

    .legend-box {
      cursor: pointer;
    }
    
</style>

<div id="fig_el168245210296162636755564"></div>
<script>
function mpld3_load_lib(url, callback){
  var s = document.createElement('script');
  s.src = url;
  s.async = true;
  s.onreadystatechange = s.onload = callback;
  s.onerror = function(){console.warn("failed to load library " + url);};
  document.getElementsByTagName("head")[0].appendChild(s);
}

if(typeof(mpld3) !== "undefined" && mpld3._mpld3IsLoaded){
   // already loaded: just create the figure
   !function(mpld3){
       
    mpld3.register_plugin("interactive_legend", InteractiveLegend);
    InteractiveLegend.prototype = Object.create(mpld3.Plugin.prototype);
    InteractiveLegend.prototype.constructor = InteractiveLegend;
    InteractiveLegend.prototype.requiredProps = ["element_ids", "labels"];
    InteractiveLegend.prototype.defaultProps = {"ax":null,
                                                "alpha_unsel":0.2,
                                                "alpha_over":1.0,
                                                "start_visible":true}
    function InteractiveLegend(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };

    InteractiveLegend.prototype.draw = function(){
        var alpha_unsel = this.props.alpha_unsel;
        var alpha_over = this.props.alpha_over;

        var legendItems = new Array();
        for(var i=0; i<this.props.labels.length; i++){
            var obj = {};
            obj.label = this.props.labels[i];

            var element_id = this.props.element_ids[i];
            mpld3_elements = [];
            for(var j=0; j<element_id.length; j++){
                var mpld3_element = mpld3.get_element(element_id[j], this.fig);

                // mpld3_element might be null in case of Line2D instances
                // for we pass the id for both the line and the markers. Either
                // one might not exist on the D3 side
                if(mpld3_element){
                    mpld3_elements.push(mpld3_element);
                }
            }

            obj.mpld3_elements = mpld3_elements;
            obj.visible = this.props.start_visible[i]; // should become be setable from python side
            legendItems.push(obj);
            set_alphas(obj, false);
        }

        // determine the axes with which this legend is associated
        var ax = this.props.ax
        if(!ax){
            ax = this.fig.axes[0];
        } else{
            ax = mpld3.get_element(ax, this.fig);
        }

        // add a legend group to the canvas of the figure
        var legend = this.fig.canvas.append("svg:g")
                               .attr("class", "legend");

        // add the rectangles
        legend.selectAll("rect")
                .data(legendItems)
                .enter().append("rect")
                .attr("height", 10)
                .attr("width", 25)
                .attr("x", ax.width + ax.position[0] + 25)
                .attr("y",function(d,i) {
                           return ax.position[1] + i * 25 + 10;})
                .attr("stroke", get_color)
                .attr("class", "legend-box")
                .style("fill", function(d, i) {
                           return d.visible ? get_color(d) : "white";})
                .on("click", click).on('mouseover', over).on('mouseout', out);

        // add the labels
        legend.selectAll("text")
              .data(legendItems)
              .enter().append("text")
              .attr("x", function (d) {
                           return ax.width + ax.position[0] + 25 + 40;})
              .attr("y", function(d,i) {
                           return ax.position[1] + i * 25 + 10 + 10 - 1;})
              .text(function(d) { return d.label });


        // specify the action on click
        function click(d,i){
            d.visible = !d.visible;
            d3.select(this)
              .style("fill",function(d, i) {
                return d.visible ? get_color(d) : "white";
              })
            set_alphas(d, false);

        };

        // specify the action on legend overlay 
        function over(d,i){
             set_alphas(d, true);
        };

        // specify the action on legend overlay 
        function out(d,i){
             set_alphas(d, false);
        };

        // helper function for setting alphas
        function set_alphas(d, is_over){
            for(var i=0; i<d.mpld3_elements.length; i++){
                var type = d.mpld3_elements[i].constructor.name;

                if(type =="mpld3_Line"){
                    var current_alpha = d.mpld3_elements[i].props.alpha;
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.select(d.mpld3_elements[i].path[0][0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("stroke-width", is_over ? 
                                alpha_over * d.mpld3_elements[i].props.edgewidth : d.mpld3_elements[i].props.edgewidth);
                } else if((type=="mpld3_PathCollection")||
                         (type=="mpld3_Markers")){
                    var current_alpha = d.mpld3_elements[i].props.alphas[0];
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.selectAll(d.mpld3_elements[i].pathsobj[0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("fill-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel));
                } else{
                    console.log(type + " not yet supported");
                }
            }
        };


        // helper function for determining the color of the rectangles
        function get_color(d){
            var type = d.mpld3_elements[0].constructor.name;
            var color = "black";
            if(type =="mpld3_Line"){
                color = d.mpld3_elements[0].props.edgecolor;
            } else if((type=="mpld3_PathCollection")||
                      (type=="mpld3_Markers")){
                color = d.mpld3_elements[0].props.facecolors[0];
            } else{
                console.log(type + " not yet supported");
            }
            return color;
        };
    };
    
       mpld3.draw_figure("fig_el168245210296162636755564", {"axes": [{"xlim": [-0.5, 10.5], "yscale": "linear", "axesbg": "#FFFFFF", "texts": [], "zoomable": true, "images": [], "xdomain": [-0.5, 10.5], "ylim": [-0.4396755115121487, 0.7346889419465003], "paths": [], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "bottom", "nticks": 8, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "left", "nticks": 8, "tickvalues": null}], "lines": [{"drawstyle": "default", "color": "#1F77B4", "yindex": 1, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913296"}, {"drawstyle": "default", "color": "#FF7F0E", "yindex": 2, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913488"}, {"drawstyle": "default", "color": "#2CA02C", "yindex": 3, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522727056"}, {"drawstyle": "default", "color": "#D62728", "yindex": 4, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913840"}, {"drawstyle": "default", "color": "#9467BD", "yindex": 5, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522914000"}], "markers": [], "id": "el16824521094640", "ydomain": [-0.4396755115121487, 0.7346889419465003], "collections": [], "xscale": "linear", "bbox": [0.125, 0.10999999999999999, 0.775, 0.77]}], "height": 480.0, "width": 640.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}, {"alpha_over": 1.5, "element_ids": [["el16824522913296", "el16824522913296pts"], ["el16824522913488", "el16824522913488pts"], ["el16824522727056", "el16824522727056pts"], ["el16824522913840", "el16824522913840pts"], ["el16824522914000", "el16824522914000pts"]], "labels": ["a", "b", "c", "d", "e"], "alpha_unsel": 0.2, "ax": null, "start_visible": [true, true, true, true, true], "type": "interactive_legend"}], "data": {"data01": [[0.0, -0.03570079568231369, 0.022724443629065574, 0.024903184814411106, 0.02857974775014338, -0.028415327542649128], [0.10101010101010101, -0.051503260494736594, 0.05773650793885563, 0.0734816070784999, -0.0038572753180040817, -0.053889710960093026], [0.20202020202020202, -0.012358553500330716, 0.00954345232517323, 0.04614420932390044, -0.03983615334123399, -0.013359744916498675], [0.30303030303030304, -0.025913826280373385, 0.004890866436277552, 0.021456155240058856, -0.08395026233093059, -0.012344698094253616], [0.40404040404040403, -0.02591098220138409, 0.0446727252109063, 0.04328013351333705, -0.034965615168415766, 0.03282202158957288], [0.5050505050505051, -0.024855000845950666, 0.037381687086640934, 0.002452036605941635, -0.06489025608360888, 0.04358931621505992], [0.6060606060606061, -0.07314926998545888, -0.010450781737084698, -0.04168813937539586, -0.024304885485615768, 0.005225430958062147], [0.7070707070707071, -0.05702904519909525, -0.016766278892260473, -0.08361241219485241, -0.00024921921092955004, -0.016748039835367916], [0.8080808080808081, -0.06475354432512802, -0.04427718032371129, -0.12864996017723132, 0.019001849747241787, -0.03386177919042677], [0.9090909090909091, -0.09480944292683118, -0.008938506906380143, -0.08100938149070193, 0.04425511670485213, -0.0794823896457717], [1.0101010101010102, -0.07078956392890248, -0.047573270878089706, -0.05241205595707475, 0.028735182265536292, -0.03753442053466696], [1.1111111111111112, -0.029657860017811455, -0.055163191628891266, -0.021149026083002752, 0.025753618399718556, -0.02007060439669602], [1.2121212121212122, 0.01164978219396913, -0.09775484662795075, -0.0692806177707431, 0.027073350550949556, 0.0034768384211393104], [1.3131313131313131, -0.03580743660035531, -0.11605003332073813, -0.045577971250705, 0.05989343598696513, 0.0021230768596699526], [1.4141414141414141, 0.011041899166894721, -0.11067195911838437, -0.0902043744536321, 0.04986470833762172, -0.0057286995446609815], [1.5151515151515151, 0.019885335851165878, -0.10020718677803446, -0.11745335704654014, 0.062327820525224814, 0.03736820525701769], [1.6161616161616161, -0.015954373787330486, -0.13544943942698648, -0.08033012656908184, 0.022931796531579313, 0.06423595436368874], [1.7171717171717171, -0.04104493917583226, -0.14476874682859323, -0.0416528778957437, 0.0663939729175474, 0.07349407001487503], [1.8181818181818181, -0.03325878653879424, -0.19249686330011107, 0.007956642603482791, 0.072415895884779, 0.10955185946958487], [1.9191919191919191, 0.007868856699882638, -0.18548925293139973, 0.050682450747725566, 0.10123906376266281, 0.134163209244621], [2.0202020202020203, 0.027991660767305745, -0.20652522948012647, 0.08654431302214585, 0.07711999503994173, 0.1325851637275498], [2.121212121212121, -0.015700589837216467, -0.1761925576555047, 0.10130398366636831, 0.04880676323295756, 0.15973252330128196], [2.2222222222222223, -0.006575507484455739, -0.17174161427084492, 0.14236677448803375, 0.07433534504578179, 0.13610318699915708], [2.323232323232323, 0.0036493451833133853, -0.17959732753045185, 0.17791462922883866, 0.09943665326384415, 0.149084330509337], [2.4242424242424243, 0.051831769497264486, -0.13532086899462908, 0.2113127228907108, 0.09706903963566102, 0.17292528129397197], [2.525252525252525, 0.07508355031487005, -0.1429218644662839, 0.25748175367969517, 0.08576026148272188, 0.21850305877444365], [2.6262626262626263, 0.03199727295989299, -0.12287346488392399, 0.2816599793700713, 0.04391394912205974, 0.17828922424467286], [2.727272727272727, 0.005395551269523274, -0.11622018174545533, 0.2878123864310104, 0.03239686491115605, 0.1874335513752176], [2.8282828282828283, 0.01535235676085665, -0.08563595649027704, 0.2607736907962963, 0.05434188437753686, 0.18624258239692107], [2.929292929292929, -0.016704987037958804, -0.08026998145984811, 0.27739716179786006, 0.009766903314233043, 0.17312121580449513], [3.0303030303030303, -0.058726527422976404, -0.10338394543476176, 0.3155692695843716, 0.033714038737453135, 0.15103485079909443], [3.131313131313131, -0.08806965698391403, -0.06783899645556071, 0.3497922649772454, 0.0405247120207996, 0.15714252033980045], [3.2323232323232323, -0.049002516818648825, -0.04571618264711422, 0.3153306691400356, 0.032425033934739514, 0.15510089146245237], [3.3333333333333335, -0.06686311491069448, -0.042608060023325664, 0.34700408098422564, 0.03871206454918265, 0.1782043939211611], [3.4343434343434343, -0.08530672294023194, -0.027306909873160642, 0.3643456594472463, -0.004491986983060213, 0.17947374134236788], [3.5353535353535355, -0.06209409364639078, -0.068620318290464, 0.4023382186637111, 0.032301265907229565, 0.22628698736583697], [3.6363636363636362, -0.08122350341808168, -0.06394602474690221, 0.4286366453359688, 0.05626948609423011, 0.21030419314857443], [3.7373737373737375, -0.10431378248364676, -0.0226498738871118, 0.4376059533893838, 0.017131092214564575, 0.16901592134923016], [3.8383838383838382, -0.05710075586848647, -0.061393516694294784, 0.4802125413063609, -0.02822218557976975, 0.1882125433920964], [3.9393939393939394, -0.0200566405418596, -0.11138093892931233, 0.45315091288033077, 0.006816735980751561, 0.16235315066040698], [4.040404040404041, -0.0233837457047594, -0.15592088884796093, 0.4166915642677958, 0.025736277120497007, 0.1995810508700692], [4.141414141414141, -0.012590636955151363, -0.16701406931991936, 0.40268870067424856, -0.01069745891033445, 0.1995787433308456], [4.242424242424242, 0.01210745833263685, -0.12732975489145965, 0.4449798092693361, -0.0594333118633812, 0.24348830942128782], [4.343434343434343, 0.043857897656893984, -0.17454326334265946, 0.49041783773353986, -0.09070785514768051, 0.2594660640472286], [4.444444444444445, 0.033997079234188654, -0.15169436016670207, 0.4440415599484953, -0.13765924801887824, 0.2713035920393361], [4.545454545454545, 0.03775986575070641, -0.15500202949509295, 0.42338984079409003, -0.1724780275415568, 0.22474564031809752], [4.646464646464646, -0.00517110549422635, -0.16712867085879662, 0.47086514113426925, -0.13733435719554637, 0.2485352083692891], [4.747474747474747, -0.04217212730668575, -0.21234814074157782, 0.5207046737219434, -0.12185548101292745, 0.22988221570319228], [4.848484848484849, -0.0668110856146893, -0.23651881709431893, 0.4970610532221738, -0.12703556687992756, 0.18538999579831852], [4.94949494949495, -0.10856885658390308, -0.2403132038095209, 0.5105109014441737, -0.1213972033370505, 0.14958269192898055], [5.05050505050505, -0.154096957121499, -0.2792881246672681, 0.49906713073153924, -0.08015184994131258, 0.15740353068742247], [5.151515151515151, -0.16670255259801736, -0.2941730035004842, 0.5017640607895022, -0.07904889360201448, 0.11354024186291733], [5.252525252525253, -0.11830293519601925, -0.3302553515928872, 0.5147884771294571, -0.03393241067583639, 0.15184689279313748], [5.353535353535354, -0.1682872309214039, -0.2950026286728815, 0.5368981070119538, -0.057623391086994026, 0.11841639524638882], [5.454545454545454, -0.1777496102267288, -0.2726775193100123, 0.49552198896291755, -0.08912026886311109, 0.1403249576059095], [5.555555555555555, -0.18673701433115944, -0.28882471630317236, 0.47690037270968805, -0.04137795654973128, 0.09338175423616651], [5.656565656565657, -0.16580919423432905, -0.3035998486142852, 0.5183320576064524, -0.03749984872044325, 0.10367962792609808], [5.757575757575758, -0.13598585349824607, -0.27827015490979334, 0.4819624415332648, 0.0007076032782605199, 0.07686013370292685], [5.858585858585858, -0.12428582739238153, -0.28145181572543354, 0.5194569306759843, -0.014336142961882311, 0.03844712659984572], [5.959595959595959, -0.16105074504632327, -0.2652705795571119, 0.562862251516848, -0.04823512751848762, 0.037203435273577806], [6.0606060606060606, -0.1618328863125009, -0.2513746621668102, 0.5557570031640395, -0.08746850939931222, 0.016190949221101973], [6.161616161616162, -0.1718032968041261, -0.2529449537299458, 0.5898815394742459, -0.08934135550412664, -0.02199435039842533], [6.262626262626262, -0.20927790927543322, -0.300383256587818, 0.6343858071124173, -0.12073637368870373, -0.045080139256331586], [6.363636363636363, -0.24010503628084817, -0.284384163118726, 0.6298866164767164, -0.16148948111644473, -0.03874758418119192], [6.4646464646464645, -0.2791457891853728, -0.3033273590823985, 0.6420492994180401, -0.13811720219216655, -0.0501862774053478], [6.565656565656566, -0.2934946494161028, -0.27494710256631927, 0.6318721008920851, -0.09241042413200094, -0.07931954178896244], [6.666666666666667, -0.31360295010419365, -0.32470380250635705, 0.6524043662202249, -0.09391733936209141, -0.10118872682270602], [6.767676767676767, -0.28811113085031465, -0.3343472334793627, 0.6813087395165617, -0.12038759542352208, -0.059357151717033894], [6.8686868686868685, -0.25346033761809994, -0.33311627672164257, 0.6657189662322371, -0.16764786288735534, -0.049534272484329164], [6.96969696969697, -0.24272948654385576, -0.32023442491844467, 0.6183953983887588, -0.13001847643309164, -0.06475578066812579], [7.070707070707071, -0.28071991119810014, -0.2966428290842777, 0.5884168828106956, -0.1472292545260669, -0.09939140474838612], [7.171717171717171, -0.2710541314852019, -0.32725118856571556, 0.5448865925493243, -0.14035774630983475, -0.10053333553395279], [7.2727272727272725, -0.2278287143393486, -0.345147110295959, 0.5302189256094583, -0.172440243254804, -0.08670919048636945], [7.373737373737374, -0.2432261950262639, -0.32083881372264117, 0.5714922895138319, -0.19520153925486639, -0.06698055051117711], [7.474747474747475, -0.2066783498319222, -0.32171046782101437, 0.5364639375670472, -0.16753510983257155, -0.039651967503549726], [7.575757575757575, -0.24103763658748475, -0.27792033096458757, 0.5718959211733564, -0.14924342121057135, -0.0071014988117375985], [7.6767676767676765, -0.27838813430275267, -0.2933345010454477, 0.5621288231817024, -0.12217118911155714, 0.018344591140837738], [7.777777777777778, -0.32039190796634043, -0.2976825146084982, 0.6029619581139494, -0.07980371723554874, 0.053514052148476675], [7.878787878787879, -0.30570514831785156, -0.25841020230982803, 0.5551457992362743, -0.10558843135028059, 0.02168802545266809], [7.979797979797979, -0.3261253155903351, -0.27820729884153644, 0.5622389111796706, -0.06324004624002107, 0.00017834610299299544], [8.080808080808081, -0.360915722798037, -0.25962016698581847, 0.5860043092632479, -0.062141986005851094, 0.020974833860206918], [8.181818181818182, -0.3602384668713671, -0.2185707174903696, 0.5603487023097206, -0.11107954171376633, -0.008108851241625786], [8.282828282828282, -0.3412503353648973, -0.23900902288517384, 0.5393041186299432, -0.07461128140400346, 0.003139594906452065], [8.383838383838384, -0.3718367728311028, -0.23238140282908815, 0.5331666630771805, -0.08283783904598654, -0.043346159800326634], [8.484848484848484, -0.3402955542893863, -0.22046811604877303, 0.5051209102637262, -0.112049922762687, 0.00012435303603141462], [8.585858585858587, -0.3417074022902919, -0.17480564455903655, 0.5494988799318757, -0.11527106331953133, -0.040897637608616234], [8.686868686868687, -0.3367213857321274, -0.21111600075398276, 0.5109943612118014, -0.1652413605971122, -0.05742991145601603], [8.787878787878787, -0.32092329111785706, -0.21498659780368992, 0.4924018040185604, -0.15989064478745865, -0.03159611081129775], [8.88888888888889, -0.3111232489150502, -0.2138507500875832, 0.44642736301431724, -0.1689374670213193, -0.074529096379375], [8.98989898989899, -0.3503135538578811, -0.2593485358432446, 0.4143433872023345, -0.1393720678921625, -0.0956578689922647], [9.09090909090909, -0.34300693564348145, -0.27204710795667886, 0.3752931955857971, -0.12416367922890348, -0.06811232778403441], [9.191919191919192, -0.3862953090822101, -0.26767294396029095, 0.3744292934082697, -0.07792707839380095, -0.08950472172839237], [9.292929292929292, -0.3596139655662062, -0.2390647288849713, 0.32997482977468784, -0.0965656766347707, -0.07871170137396108], [9.393939393939394, -0.31196432428663995, -0.27847554824931614, 0.36935087547902085, -0.12594421721311638, -0.10577760146940152], [9.494949494949495, -0.27376300875398185, -0.26660436775782875, 0.3779358984270898, -0.11158410837758916, -0.09889529319402958], [9.595959595959595, -0.2472779126373038, -0.3150945367516932, 0.3495179804003357, -0.1408791075488561, -0.0886260189313553], [9.696969696969697, -0.21509111065490302, -0.26833689392692356, 0.32866244575169556, -0.1493568705866573, -0.04468896937474706], [9.797979797979798, -0.19783028861055216, -0.3095154924863248, 0.32532278040744234, -0.15658311339331965, -0.07439965155159557], [9.8989898989899, -0.24414861152542186, -0.3053211562841212, 0.35801467107450774, -0.2026772071067247, -0.11351861364522058], [10.0, -0.27379534495744284, -0.28896961797425286, 0.3678864443487661, -0.19618859915519157, -0.06513711900637964]]}, "id": "el16824521029616"});
   }(mpld3);
}else if(typeof define === "function" && define.amd){
   // require.js is available: use it to load d3/mpld3
   require.config({paths: {d3: "https://mpld3.github.io/js/d3.v3.min"}});
   require(["d3"], function(d3){
      window.d3 = d3;
      mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.3.js", function(){
         
    mpld3.register_plugin("interactive_legend", InteractiveLegend);
    InteractiveLegend.prototype = Object.create(mpld3.Plugin.prototype);
    InteractiveLegend.prototype.constructor = InteractiveLegend;
    InteractiveLegend.prototype.requiredProps = ["element_ids", "labels"];
    InteractiveLegend.prototype.defaultProps = {"ax":null,
                                                "alpha_unsel":0.2,
                                                "alpha_over":1.0,
                                                "start_visible":true}
    function InteractiveLegend(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };

    InteractiveLegend.prototype.draw = function(){
        var alpha_unsel = this.props.alpha_unsel;
        var alpha_over = this.props.alpha_over;

        var legendItems = new Array();
        for(var i=0; i<this.props.labels.length; i++){
            var obj = {};
            obj.label = this.props.labels[i];

            var element_id = this.props.element_ids[i];
            mpld3_elements = [];
            for(var j=0; j<element_id.length; j++){
                var mpld3_element = mpld3.get_element(element_id[j], this.fig);

                // mpld3_element might be null in case of Line2D instances
                // for we pass the id for both the line and the markers. Either
                // one might not exist on the D3 side
                if(mpld3_element){
                    mpld3_elements.push(mpld3_element);
                }
            }

            obj.mpld3_elements = mpld3_elements;
            obj.visible = this.props.start_visible[i]; // should become be setable from python side
            legendItems.push(obj);
            set_alphas(obj, false);
        }

        // determine the axes with which this legend is associated
        var ax = this.props.ax
        if(!ax){
            ax = this.fig.axes[0];
        } else{
            ax = mpld3.get_element(ax, this.fig);
        }

        // add a legend group to the canvas of the figure
        var legend = this.fig.canvas.append("svg:g")
                               .attr("class", "legend");

        // add the rectangles
        legend.selectAll("rect")
                .data(legendItems)
                .enter().append("rect")
                .attr("height", 10)
                .attr("width", 25)
                .attr("x", ax.width + ax.position[0] + 25)
                .attr("y",function(d,i) {
                           return ax.position[1] + i * 25 + 10;})
                .attr("stroke", get_color)
                .attr("class", "legend-box")
                .style("fill", function(d, i) {
                           return d.visible ? get_color(d) : "white";})
                .on("click", click).on('mouseover', over).on('mouseout', out);

        // add the labels
        legend.selectAll("text")
              .data(legendItems)
              .enter().append("text")
              .attr("x", function (d) {
                           return ax.width + ax.position[0] + 25 + 40;})
              .attr("y", function(d,i) {
                           return ax.position[1] + i * 25 + 10 + 10 - 1;})
              .text(function(d) { return d.label });


        // specify the action on click
        function click(d,i){
            d.visible = !d.visible;
            d3.select(this)
              .style("fill",function(d, i) {
                return d.visible ? get_color(d) : "white";
              })
            set_alphas(d, false);

        };

        // specify the action on legend overlay 
        function over(d,i){
             set_alphas(d, true);
        };

        // specify the action on legend overlay 
        function out(d,i){
             set_alphas(d, false);
        };

        // helper function for setting alphas
        function set_alphas(d, is_over){
            for(var i=0; i<d.mpld3_elements.length; i++){
                var type = d.mpld3_elements[i].constructor.name;

                if(type =="mpld3_Line"){
                    var current_alpha = d.mpld3_elements[i].props.alpha;
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.select(d.mpld3_elements[i].path[0][0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("stroke-width", is_over ? 
                                alpha_over * d.mpld3_elements[i].props.edgewidth : d.mpld3_elements[i].props.edgewidth);
                } else if((type=="mpld3_PathCollection")||
                         (type=="mpld3_Markers")){
                    var current_alpha = d.mpld3_elements[i].props.alphas[0];
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.selectAll(d.mpld3_elements[i].pathsobj[0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("fill-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel));
                } else{
                    console.log(type + " not yet supported");
                }
            }
        };


        // helper function for determining the color of the rectangles
        function get_color(d){
            var type = d.mpld3_elements[0].constructor.name;
            var color = "black";
            if(type =="mpld3_Line"){
                color = d.mpld3_elements[0].props.edgecolor;
            } else if((type=="mpld3_PathCollection")||
                      (type=="mpld3_Markers")){
                color = d.mpld3_elements[0].props.facecolors[0];
            } else{
                console.log(type + " not yet supported");
            }
            return color;
        };
    };
    
         mpld3.draw_figure("fig_el168245210296162636755564", {"axes": [{"xlim": [-0.5, 10.5], "yscale": "linear", "axesbg": "#FFFFFF", "texts": [], "zoomable": true, "images": [], "xdomain": [-0.5, 10.5], "ylim": [-0.4396755115121487, 0.7346889419465003], "paths": [], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "bottom", "nticks": 8, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "left", "nticks": 8, "tickvalues": null}], "lines": [{"drawstyle": "default", "color": "#1F77B4", "yindex": 1, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913296"}, {"drawstyle": "default", "color": "#FF7F0E", "yindex": 2, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913488"}, {"drawstyle": "default", "color": "#2CA02C", "yindex": 3, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522727056"}, {"drawstyle": "default", "color": "#D62728", "yindex": 4, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913840"}, {"drawstyle": "default", "color": "#9467BD", "yindex": 5, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522914000"}], "markers": [], "id": "el16824521094640", "ydomain": [-0.4396755115121487, 0.7346889419465003], "collections": [], "xscale": "linear", "bbox": [0.125, 0.10999999999999999, 0.775, 0.77]}], "height": 480.0, "width": 640.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}, {"alpha_over": 1.5, "element_ids": [["el16824522913296", "el16824522913296pts"], ["el16824522913488", "el16824522913488pts"], ["el16824522727056", "el16824522727056pts"], ["el16824522913840", "el16824522913840pts"], ["el16824522914000", "el16824522914000pts"]], "labels": ["a", "b", "c", "d", "e"], "alpha_unsel": 0.2, "ax": null, "start_visible": [true, true, true, true, true], "type": "interactive_legend"}], "data": {"data01": [[0.0, -0.03570079568231369, 0.022724443629065574, 0.024903184814411106, 0.02857974775014338, -0.028415327542649128], [0.10101010101010101, -0.051503260494736594, 0.05773650793885563, 0.0734816070784999, -0.0038572753180040817, -0.053889710960093026], [0.20202020202020202, -0.012358553500330716, 0.00954345232517323, 0.04614420932390044, -0.03983615334123399, -0.013359744916498675], [0.30303030303030304, -0.025913826280373385, 0.004890866436277552, 0.021456155240058856, -0.08395026233093059, -0.012344698094253616], [0.40404040404040403, -0.02591098220138409, 0.0446727252109063, 0.04328013351333705, -0.034965615168415766, 0.03282202158957288], [0.5050505050505051, -0.024855000845950666, 0.037381687086640934, 0.002452036605941635, -0.06489025608360888, 0.04358931621505992], [0.6060606060606061, -0.07314926998545888, -0.010450781737084698, -0.04168813937539586, -0.024304885485615768, 0.005225430958062147], [0.7070707070707071, -0.05702904519909525, -0.016766278892260473, -0.08361241219485241, -0.00024921921092955004, -0.016748039835367916], [0.8080808080808081, -0.06475354432512802, -0.04427718032371129, -0.12864996017723132, 0.019001849747241787, -0.03386177919042677], [0.9090909090909091, -0.09480944292683118, -0.008938506906380143, -0.08100938149070193, 0.04425511670485213, -0.0794823896457717], [1.0101010101010102, -0.07078956392890248, -0.047573270878089706, -0.05241205595707475, 0.028735182265536292, -0.03753442053466696], [1.1111111111111112, -0.029657860017811455, -0.055163191628891266, -0.021149026083002752, 0.025753618399718556, -0.02007060439669602], [1.2121212121212122, 0.01164978219396913, -0.09775484662795075, -0.0692806177707431, 0.027073350550949556, 0.0034768384211393104], [1.3131313131313131, -0.03580743660035531, -0.11605003332073813, -0.045577971250705, 0.05989343598696513, 0.0021230768596699526], [1.4141414141414141, 0.011041899166894721, -0.11067195911838437, -0.0902043744536321, 0.04986470833762172, -0.0057286995446609815], [1.5151515151515151, 0.019885335851165878, -0.10020718677803446, -0.11745335704654014, 0.062327820525224814, 0.03736820525701769], [1.6161616161616161, -0.015954373787330486, -0.13544943942698648, -0.08033012656908184, 0.022931796531579313, 0.06423595436368874], [1.7171717171717171, -0.04104493917583226, -0.14476874682859323, -0.0416528778957437, 0.0663939729175474, 0.07349407001487503], [1.8181818181818181, -0.03325878653879424, -0.19249686330011107, 0.007956642603482791, 0.072415895884779, 0.10955185946958487], [1.9191919191919191, 0.007868856699882638, -0.18548925293139973, 0.050682450747725566, 0.10123906376266281, 0.134163209244621], [2.0202020202020203, 0.027991660767305745, -0.20652522948012647, 0.08654431302214585, 0.07711999503994173, 0.1325851637275498], [2.121212121212121, -0.015700589837216467, -0.1761925576555047, 0.10130398366636831, 0.04880676323295756, 0.15973252330128196], [2.2222222222222223, -0.006575507484455739, -0.17174161427084492, 0.14236677448803375, 0.07433534504578179, 0.13610318699915708], [2.323232323232323, 0.0036493451833133853, -0.17959732753045185, 0.17791462922883866, 0.09943665326384415, 0.149084330509337], [2.4242424242424243, 0.051831769497264486, -0.13532086899462908, 0.2113127228907108, 0.09706903963566102, 0.17292528129397197], [2.525252525252525, 0.07508355031487005, -0.1429218644662839, 0.25748175367969517, 0.08576026148272188, 0.21850305877444365], [2.6262626262626263, 0.03199727295989299, -0.12287346488392399, 0.2816599793700713, 0.04391394912205974, 0.17828922424467286], [2.727272727272727, 0.005395551269523274, -0.11622018174545533, 0.2878123864310104, 0.03239686491115605, 0.1874335513752176], [2.8282828282828283, 0.01535235676085665, -0.08563595649027704, 0.2607736907962963, 0.05434188437753686, 0.18624258239692107], [2.929292929292929, -0.016704987037958804, -0.08026998145984811, 0.27739716179786006, 0.009766903314233043, 0.17312121580449513], [3.0303030303030303, -0.058726527422976404, -0.10338394543476176, 0.3155692695843716, 0.033714038737453135, 0.15103485079909443], [3.131313131313131, -0.08806965698391403, -0.06783899645556071, 0.3497922649772454, 0.0405247120207996, 0.15714252033980045], [3.2323232323232323, -0.049002516818648825, -0.04571618264711422, 0.3153306691400356, 0.032425033934739514, 0.15510089146245237], [3.3333333333333335, -0.06686311491069448, -0.042608060023325664, 0.34700408098422564, 0.03871206454918265, 0.1782043939211611], [3.4343434343434343, -0.08530672294023194, -0.027306909873160642, 0.3643456594472463, -0.004491986983060213, 0.17947374134236788], [3.5353535353535355, -0.06209409364639078, -0.068620318290464, 0.4023382186637111, 0.032301265907229565, 0.22628698736583697], [3.6363636363636362, -0.08122350341808168, -0.06394602474690221, 0.4286366453359688, 0.05626948609423011, 0.21030419314857443], [3.7373737373737375, -0.10431378248364676, -0.0226498738871118, 0.4376059533893838, 0.017131092214564575, 0.16901592134923016], [3.8383838383838382, -0.05710075586848647, -0.061393516694294784, 0.4802125413063609, -0.02822218557976975, 0.1882125433920964], [3.9393939393939394, -0.0200566405418596, -0.11138093892931233, 0.45315091288033077, 0.006816735980751561, 0.16235315066040698], [4.040404040404041, -0.0233837457047594, -0.15592088884796093, 0.4166915642677958, 0.025736277120497007, 0.1995810508700692], [4.141414141414141, -0.012590636955151363, -0.16701406931991936, 0.40268870067424856, -0.01069745891033445, 0.1995787433308456], [4.242424242424242, 0.01210745833263685, -0.12732975489145965, 0.4449798092693361, -0.0594333118633812, 0.24348830942128782], [4.343434343434343, 0.043857897656893984, -0.17454326334265946, 0.49041783773353986, -0.09070785514768051, 0.2594660640472286], [4.444444444444445, 0.033997079234188654, -0.15169436016670207, 0.4440415599484953, -0.13765924801887824, 0.2713035920393361], [4.545454545454545, 0.03775986575070641, -0.15500202949509295, 0.42338984079409003, -0.1724780275415568, 0.22474564031809752], [4.646464646464646, -0.00517110549422635, -0.16712867085879662, 0.47086514113426925, -0.13733435719554637, 0.2485352083692891], [4.747474747474747, -0.04217212730668575, -0.21234814074157782, 0.5207046737219434, -0.12185548101292745, 0.22988221570319228], [4.848484848484849, -0.0668110856146893, -0.23651881709431893, 0.4970610532221738, -0.12703556687992756, 0.18538999579831852], [4.94949494949495, -0.10856885658390308, -0.2403132038095209, 0.5105109014441737, -0.1213972033370505, 0.14958269192898055], [5.05050505050505, -0.154096957121499, -0.2792881246672681, 0.49906713073153924, -0.08015184994131258, 0.15740353068742247], [5.151515151515151, -0.16670255259801736, -0.2941730035004842, 0.5017640607895022, -0.07904889360201448, 0.11354024186291733], [5.252525252525253, -0.11830293519601925, -0.3302553515928872, 0.5147884771294571, -0.03393241067583639, 0.15184689279313748], [5.353535353535354, -0.1682872309214039, -0.2950026286728815, 0.5368981070119538, -0.057623391086994026, 0.11841639524638882], [5.454545454545454, -0.1777496102267288, -0.2726775193100123, 0.49552198896291755, -0.08912026886311109, 0.1403249576059095], [5.555555555555555, -0.18673701433115944, -0.28882471630317236, 0.47690037270968805, -0.04137795654973128, 0.09338175423616651], [5.656565656565657, -0.16580919423432905, -0.3035998486142852, 0.5183320576064524, -0.03749984872044325, 0.10367962792609808], [5.757575757575758, -0.13598585349824607, -0.27827015490979334, 0.4819624415332648, 0.0007076032782605199, 0.07686013370292685], [5.858585858585858, -0.12428582739238153, -0.28145181572543354, 0.5194569306759843, -0.014336142961882311, 0.03844712659984572], [5.959595959595959, -0.16105074504632327, -0.2652705795571119, 0.562862251516848, -0.04823512751848762, 0.037203435273577806], [6.0606060606060606, -0.1618328863125009, -0.2513746621668102, 0.5557570031640395, -0.08746850939931222, 0.016190949221101973], [6.161616161616162, -0.1718032968041261, -0.2529449537299458, 0.5898815394742459, -0.08934135550412664, -0.02199435039842533], [6.262626262626262, -0.20927790927543322, -0.300383256587818, 0.6343858071124173, -0.12073637368870373, -0.045080139256331586], [6.363636363636363, -0.24010503628084817, -0.284384163118726, 0.6298866164767164, -0.16148948111644473, -0.03874758418119192], [6.4646464646464645, -0.2791457891853728, -0.3033273590823985, 0.6420492994180401, -0.13811720219216655, -0.0501862774053478], [6.565656565656566, -0.2934946494161028, -0.27494710256631927, 0.6318721008920851, -0.09241042413200094, -0.07931954178896244], [6.666666666666667, -0.31360295010419365, -0.32470380250635705, 0.6524043662202249, -0.09391733936209141, -0.10118872682270602], [6.767676767676767, -0.28811113085031465, -0.3343472334793627, 0.6813087395165617, -0.12038759542352208, -0.059357151717033894], [6.8686868686868685, -0.25346033761809994, -0.33311627672164257, 0.6657189662322371, -0.16764786288735534, -0.049534272484329164], [6.96969696969697, -0.24272948654385576, -0.32023442491844467, 0.6183953983887588, -0.13001847643309164, -0.06475578066812579], [7.070707070707071, -0.28071991119810014, -0.2966428290842777, 0.5884168828106956, -0.1472292545260669, -0.09939140474838612], [7.171717171717171, -0.2710541314852019, -0.32725118856571556, 0.5448865925493243, -0.14035774630983475, -0.10053333553395279], [7.2727272727272725, -0.2278287143393486, -0.345147110295959, 0.5302189256094583, -0.172440243254804, -0.08670919048636945], [7.373737373737374, -0.2432261950262639, -0.32083881372264117, 0.5714922895138319, -0.19520153925486639, -0.06698055051117711], [7.474747474747475, -0.2066783498319222, -0.32171046782101437, 0.5364639375670472, -0.16753510983257155, -0.039651967503549726], [7.575757575757575, -0.24103763658748475, -0.27792033096458757, 0.5718959211733564, -0.14924342121057135, -0.0071014988117375985], [7.6767676767676765, -0.27838813430275267, -0.2933345010454477, 0.5621288231817024, -0.12217118911155714, 0.018344591140837738], [7.777777777777778, -0.32039190796634043, -0.2976825146084982, 0.6029619581139494, -0.07980371723554874, 0.053514052148476675], [7.878787878787879, -0.30570514831785156, -0.25841020230982803, 0.5551457992362743, -0.10558843135028059, 0.02168802545266809], [7.979797979797979, -0.3261253155903351, -0.27820729884153644, 0.5622389111796706, -0.06324004624002107, 0.00017834610299299544], [8.080808080808081, -0.360915722798037, -0.25962016698581847, 0.5860043092632479, -0.062141986005851094, 0.020974833860206918], [8.181818181818182, -0.3602384668713671, -0.2185707174903696, 0.5603487023097206, -0.11107954171376633, -0.008108851241625786], [8.282828282828282, -0.3412503353648973, -0.23900902288517384, 0.5393041186299432, -0.07461128140400346, 0.003139594906452065], [8.383838383838384, -0.3718367728311028, -0.23238140282908815, 0.5331666630771805, -0.08283783904598654, -0.043346159800326634], [8.484848484848484, -0.3402955542893863, -0.22046811604877303, 0.5051209102637262, -0.112049922762687, 0.00012435303603141462], [8.585858585858587, -0.3417074022902919, -0.17480564455903655, 0.5494988799318757, -0.11527106331953133, -0.040897637608616234], [8.686868686868687, -0.3367213857321274, -0.21111600075398276, 0.5109943612118014, -0.1652413605971122, -0.05742991145601603], [8.787878787878787, -0.32092329111785706, -0.21498659780368992, 0.4924018040185604, -0.15989064478745865, -0.03159611081129775], [8.88888888888889, -0.3111232489150502, -0.2138507500875832, 0.44642736301431724, -0.1689374670213193, -0.074529096379375], [8.98989898989899, -0.3503135538578811, -0.2593485358432446, 0.4143433872023345, -0.1393720678921625, -0.0956578689922647], [9.09090909090909, -0.34300693564348145, -0.27204710795667886, 0.3752931955857971, -0.12416367922890348, -0.06811232778403441], [9.191919191919192, -0.3862953090822101, -0.26767294396029095, 0.3744292934082697, -0.07792707839380095, -0.08950472172839237], [9.292929292929292, -0.3596139655662062, -0.2390647288849713, 0.32997482977468784, -0.0965656766347707, -0.07871170137396108], [9.393939393939394, -0.31196432428663995, -0.27847554824931614, 0.36935087547902085, -0.12594421721311638, -0.10577760146940152], [9.494949494949495, -0.27376300875398185, -0.26660436775782875, 0.3779358984270898, -0.11158410837758916, -0.09889529319402958], [9.595959595959595, -0.2472779126373038, -0.3150945367516932, 0.3495179804003357, -0.1408791075488561, -0.0886260189313553], [9.696969696969697, -0.21509111065490302, -0.26833689392692356, 0.32866244575169556, -0.1493568705866573, -0.04468896937474706], [9.797979797979798, -0.19783028861055216, -0.3095154924863248, 0.32532278040744234, -0.15658311339331965, -0.07439965155159557], [9.8989898989899, -0.24414861152542186, -0.3053211562841212, 0.35801467107450774, -0.2026772071067247, -0.11351861364522058], [10.0, -0.27379534495744284, -0.28896961797425286, 0.3678864443487661, -0.19618859915519157, -0.06513711900637964]]}, "id": "el16824521029616"});
      });
    });
}else{
    // require.js not available: dynamically load d3 & mpld3
    mpld3_load_lib("https://mpld3.github.io/js/d3.v3.min.js", function(){
         mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.3.js", function(){
                 
    mpld3.register_plugin("interactive_legend", InteractiveLegend);
    InteractiveLegend.prototype = Object.create(mpld3.Plugin.prototype);
    InteractiveLegend.prototype.constructor = InteractiveLegend;
    InteractiveLegend.prototype.requiredProps = ["element_ids", "labels"];
    InteractiveLegend.prototype.defaultProps = {"ax":null,
                                                "alpha_unsel":0.2,
                                                "alpha_over":1.0,
                                                "start_visible":true}
    function InteractiveLegend(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };

    InteractiveLegend.prototype.draw = function(){
        var alpha_unsel = this.props.alpha_unsel;
        var alpha_over = this.props.alpha_over;

        var legendItems = new Array();
        for(var i=0; i<this.props.labels.length; i++){
            var obj = {};
            obj.label = this.props.labels[i];

            var element_id = this.props.element_ids[i];
            mpld3_elements = [];
            for(var j=0; j<element_id.length; j++){
                var mpld3_element = mpld3.get_element(element_id[j], this.fig);

                // mpld3_element might be null in case of Line2D instances
                // for we pass the id for both the line and the markers. Either
                // one might not exist on the D3 side
                if(mpld3_element){
                    mpld3_elements.push(mpld3_element);
                }
            }

            obj.mpld3_elements = mpld3_elements;
            obj.visible = this.props.start_visible[i]; // should become be setable from python side
            legendItems.push(obj);
            set_alphas(obj, false);
        }

        // determine the axes with which this legend is associated
        var ax = this.props.ax
        if(!ax){
            ax = this.fig.axes[0];
        } else{
            ax = mpld3.get_element(ax, this.fig);
        }

        // add a legend group to the canvas of the figure
        var legend = this.fig.canvas.append("svg:g")
                               .attr("class", "legend");

        // add the rectangles
        legend.selectAll("rect")
                .data(legendItems)
                .enter().append("rect")
                .attr("height", 10)
                .attr("width", 25)
                .attr("x", ax.width + ax.position[0] + 25)
                .attr("y",function(d,i) {
                           return ax.position[1] + i * 25 + 10;})
                .attr("stroke", get_color)
                .attr("class", "legend-box")
                .style("fill", function(d, i) {
                           return d.visible ? get_color(d) : "white";})
                .on("click", click).on('mouseover', over).on('mouseout', out);

        // add the labels
        legend.selectAll("text")
              .data(legendItems)
              .enter().append("text")
              .attr("x", function (d) {
                           return ax.width + ax.position[0] + 25 + 40;})
              .attr("y", function(d,i) {
                           return ax.position[1] + i * 25 + 10 + 10 - 1;})
              .text(function(d) { return d.label });


        // specify the action on click
        function click(d,i){
            d.visible = !d.visible;
            d3.select(this)
              .style("fill",function(d, i) {
                return d.visible ? get_color(d) : "white";
              })
            set_alphas(d, false);

        };

        // specify the action on legend overlay 
        function over(d,i){
             set_alphas(d, true);
        };

        // specify the action on legend overlay 
        function out(d,i){
             set_alphas(d, false);
        };

        // helper function for setting alphas
        function set_alphas(d, is_over){
            for(var i=0; i<d.mpld3_elements.length; i++){
                var type = d.mpld3_elements[i].constructor.name;

                if(type =="mpld3_Line"){
                    var current_alpha = d.mpld3_elements[i].props.alpha;
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.select(d.mpld3_elements[i].path[0][0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("stroke-width", is_over ? 
                                alpha_over * d.mpld3_elements[i].props.edgewidth : d.mpld3_elements[i].props.edgewidth);
                } else if((type=="mpld3_PathCollection")||
                         (type=="mpld3_Markers")){
                    var current_alpha = d.mpld3_elements[i].props.alphas[0];
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.selectAll(d.mpld3_elements[i].pathsobj[0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("fill-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel));
                } else{
                    console.log(type + " not yet supported");
                }
            }
        };


        // helper function for determining the color of the rectangles
        function get_color(d){
            var type = d.mpld3_elements[0].constructor.name;
            var color = "black";
            if(type =="mpld3_Line"){
                color = d.mpld3_elements[0].props.edgecolor;
            } else if((type=="mpld3_PathCollection")||
                      (type=="mpld3_Markers")){
                color = d.mpld3_elements[0].props.facecolors[0];
            } else{
                console.log(type + " not yet supported");
            }
            return color;
        };
    };
    
                 mpld3.draw_figure("fig_el168245210296162636755564", {"axes": [{"xlim": [-0.5, 10.5], "yscale": "linear", "axesbg": "#FFFFFF", "texts": [], "zoomable": true, "images": [], "xdomain": [-0.5, 10.5], "ylim": [-0.4396755115121487, 0.7346889419465003], "paths": [], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "bottom", "nticks": 8, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "left", "nticks": 8, "tickvalues": null}], "lines": [{"drawstyle": "default", "color": "#1F77B4", "yindex": 1, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913296"}, {"drawstyle": "default", "color": "#FF7F0E", "yindex": 2, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913488"}, {"drawstyle": "default", "color": "#2CA02C", "yindex": 3, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522727056"}, {"drawstyle": "default", "color": "#D62728", "yindex": 4, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522913840"}, {"drawstyle": "default", "color": "#9467BD", "yindex": 5, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.6, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el16824522914000"}], "markers": [], "id": "el16824521094640", "ydomain": [-0.4396755115121487, 0.7346889419465003], "collections": [], "xscale": "linear", "bbox": [0.125, 0.10999999999999999, 0.775, 0.77]}], "height": 480.0, "width": 640.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}, {"alpha_over": 1.5, "element_ids": [["el16824522913296", "el16824522913296pts"], ["el16824522913488", "el16824522913488pts"], ["el16824522727056", "el16824522727056pts"], ["el16824522913840", "el16824522913840pts"], ["el16824522914000", "el16824522914000pts"]], "labels": ["a", "b", "c", "d", "e"], "alpha_unsel": 0.2, "ax": null, "start_visible": [true, true, true, true, true], "type": "interactive_legend"}], "data": {"data01": [[0.0, -0.03570079568231369, 0.022724443629065574, 0.024903184814411106, 0.02857974775014338, -0.028415327542649128], [0.10101010101010101, -0.051503260494736594, 0.05773650793885563, 0.0734816070784999, -0.0038572753180040817, -0.053889710960093026], [0.20202020202020202, -0.012358553500330716, 0.00954345232517323, 0.04614420932390044, -0.03983615334123399, -0.013359744916498675], [0.30303030303030304, -0.025913826280373385, 0.004890866436277552, 0.021456155240058856, -0.08395026233093059, -0.012344698094253616], [0.40404040404040403, -0.02591098220138409, 0.0446727252109063, 0.04328013351333705, -0.034965615168415766, 0.03282202158957288], [0.5050505050505051, -0.024855000845950666, 0.037381687086640934, 0.002452036605941635, -0.06489025608360888, 0.04358931621505992], [0.6060606060606061, -0.07314926998545888, -0.010450781737084698, -0.04168813937539586, -0.024304885485615768, 0.005225430958062147], [0.7070707070707071, -0.05702904519909525, -0.016766278892260473, -0.08361241219485241, -0.00024921921092955004, -0.016748039835367916], [0.8080808080808081, -0.06475354432512802, -0.04427718032371129, -0.12864996017723132, 0.019001849747241787, -0.03386177919042677], [0.9090909090909091, -0.09480944292683118, -0.008938506906380143, -0.08100938149070193, 0.04425511670485213, -0.0794823896457717], [1.0101010101010102, -0.07078956392890248, -0.047573270878089706, -0.05241205595707475, 0.028735182265536292, -0.03753442053466696], [1.1111111111111112, -0.029657860017811455, -0.055163191628891266, -0.021149026083002752, 0.025753618399718556, -0.02007060439669602], [1.2121212121212122, 0.01164978219396913, -0.09775484662795075, -0.0692806177707431, 0.027073350550949556, 0.0034768384211393104], [1.3131313131313131, -0.03580743660035531, -0.11605003332073813, -0.045577971250705, 0.05989343598696513, 0.0021230768596699526], [1.4141414141414141, 0.011041899166894721, -0.11067195911838437, -0.0902043744536321, 0.04986470833762172, -0.0057286995446609815], [1.5151515151515151, 0.019885335851165878, -0.10020718677803446, -0.11745335704654014, 0.062327820525224814, 0.03736820525701769], [1.6161616161616161, -0.015954373787330486, -0.13544943942698648, -0.08033012656908184, 0.022931796531579313, 0.06423595436368874], [1.7171717171717171, -0.04104493917583226, -0.14476874682859323, -0.0416528778957437, 0.0663939729175474, 0.07349407001487503], [1.8181818181818181, -0.03325878653879424, -0.19249686330011107, 0.007956642603482791, 0.072415895884779, 0.10955185946958487], [1.9191919191919191, 0.007868856699882638, -0.18548925293139973, 0.050682450747725566, 0.10123906376266281, 0.134163209244621], [2.0202020202020203, 0.027991660767305745, -0.20652522948012647, 0.08654431302214585, 0.07711999503994173, 0.1325851637275498], [2.121212121212121, -0.015700589837216467, -0.1761925576555047, 0.10130398366636831, 0.04880676323295756, 0.15973252330128196], [2.2222222222222223, -0.006575507484455739, -0.17174161427084492, 0.14236677448803375, 0.07433534504578179, 0.13610318699915708], [2.323232323232323, 0.0036493451833133853, -0.17959732753045185, 0.17791462922883866, 0.09943665326384415, 0.149084330509337], [2.4242424242424243, 0.051831769497264486, -0.13532086899462908, 0.2113127228907108, 0.09706903963566102, 0.17292528129397197], [2.525252525252525, 0.07508355031487005, -0.1429218644662839, 0.25748175367969517, 0.08576026148272188, 0.21850305877444365], [2.6262626262626263, 0.03199727295989299, -0.12287346488392399, 0.2816599793700713, 0.04391394912205974, 0.17828922424467286], [2.727272727272727, 0.005395551269523274, -0.11622018174545533, 0.2878123864310104, 0.03239686491115605, 0.1874335513752176], [2.8282828282828283, 0.01535235676085665, -0.08563595649027704, 0.2607736907962963, 0.05434188437753686, 0.18624258239692107], [2.929292929292929, -0.016704987037958804, -0.08026998145984811, 0.27739716179786006, 0.009766903314233043, 0.17312121580449513], [3.0303030303030303, -0.058726527422976404, -0.10338394543476176, 0.3155692695843716, 0.033714038737453135, 0.15103485079909443], [3.131313131313131, -0.08806965698391403, -0.06783899645556071, 0.3497922649772454, 0.0405247120207996, 0.15714252033980045], [3.2323232323232323, -0.049002516818648825, -0.04571618264711422, 0.3153306691400356, 0.032425033934739514, 0.15510089146245237], [3.3333333333333335, -0.06686311491069448, -0.042608060023325664, 0.34700408098422564, 0.03871206454918265, 0.1782043939211611], [3.4343434343434343, -0.08530672294023194, -0.027306909873160642, 0.3643456594472463, -0.004491986983060213, 0.17947374134236788], [3.5353535353535355, -0.06209409364639078, -0.068620318290464, 0.4023382186637111, 0.032301265907229565, 0.22628698736583697], [3.6363636363636362, -0.08122350341808168, -0.06394602474690221, 0.4286366453359688, 0.05626948609423011, 0.21030419314857443], [3.7373737373737375, -0.10431378248364676, -0.0226498738871118, 0.4376059533893838, 0.017131092214564575, 0.16901592134923016], [3.8383838383838382, -0.05710075586848647, -0.061393516694294784, 0.4802125413063609, -0.02822218557976975, 0.1882125433920964], [3.9393939393939394, -0.0200566405418596, -0.11138093892931233, 0.45315091288033077, 0.006816735980751561, 0.16235315066040698], [4.040404040404041, -0.0233837457047594, -0.15592088884796093, 0.4166915642677958, 0.025736277120497007, 0.1995810508700692], [4.141414141414141, -0.012590636955151363, -0.16701406931991936, 0.40268870067424856, -0.01069745891033445, 0.1995787433308456], [4.242424242424242, 0.01210745833263685, -0.12732975489145965, 0.4449798092693361, -0.0594333118633812, 0.24348830942128782], [4.343434343434343, 0.043857897656893984, -0.17454326334265946, 0.49041783773353986, -0.09070785514768051, 0.2594660640472286], [4.444444444444445, 0.033997079234188654, -0.15169436016670207, 0.4440415599484953, -0.13765924801887824, 0.2713035920393361], [4.545454545454545, 0.03775986575070641, -0.15500202949509295, 0.42338984079409003, -0.1724780275415568, 0.22474564031809752], [4.646464646464646, -0.00517110549422635, -0.16712867085879662, 0.47086514113426925, -0.13733435719554637, 0.2485352083692891], [4.747474747474747, -0.04217212730668575, -0.21234814074157782, 0.5207046737219434, -0.12185548101292745, 0.22988221570319228], [4.848484848484849, -0.0668110856146893, -0.23651881709431893, 0.4970610532221738, -0.12703556687992756, 0.18538999579831852], [4.94949494949495, -0.10856885658390308, -0.2403132038095209, 0.5105109014441737, -0.1213972033370505, 0.14958269192898055], [5.05050505050505, -0.154096957121499, -0.2792881246672681, 0.49906713073153924, -0.08015184994131258, 0.15740353068742247], [5.151515151515151, -0.16670255259801736, -0.2941730035004842, 0.5017640607895022, -0.07904889360201448, 0.11354024186291733], [5.252525252525253, -0.11830293519601925, -0.3302553515928872, 0.5147884771294571, -0.03393241067583639, 0.15184689279313748], [5.353535353535354, -0.1682872309214039, -0.2950026286728815, 0.5368981070119538, -0.057623391086994026, 0.11841639524638882], [5.454545454545454, -0.1777496102267288, -0.2726775193100123, 0.49552198896291755, -0.08912026886311109, 0.1403249576059095], [5.555555555555555, -0.18673701433115944, -0.28882471630317236, 0.47690037270968805, -0.04137795654973128, 0.09338175423616651], [5.656565656565657, -0.16580919423432905, -0.3035998486142852, 0.5183320576064524, -0.03749984872044325, 0.10367962792609808], [5.757575757575758, -0.13598585349824607, -0.27827015490979334, 0.4819624415332648, 0.0007076032782605199, 0.07686013370292685], [5.858585858585858, -0.12428582739238153, -0.28145181572543354, 0.5194569306759843, -0.014336142961882311, 0.03844712659984572], [5.959595959595959, -0.16105074504632327, -0.2652705795571119, 0.562862251516848, -0.04823512751848762, 0.037203435273577806], [6.0606060606060606, -0.1618328863125009, -0.2513746621668102, 0.5557570031640395, -0.08746850939931222, 0.016190949221101973], [6.161616161616162, -0.1718032968041261, -0.2529449537299458, 0.5898815394742459, -0.08934135550412664, -0.02199435039842533], [6.262626262626262, -0.20927790927543322, -0.300383256587818, 0.6343858071124173, -0.12073637368870373, -0.045080139256331586], [6.363636363636363, -0.24010503628084817, -0.284384163118726, 0.6298866164767164, -0.16148948111644473, -0.03874758418119192], [6.4646464646464645, -0.2791457891853728, -0.3033273590823985, 0.6420492994180401, -0.13811720219216655, -0.0501862774053478], [6.565656565656566, -0.2934946494161028, -0.27494710256631927, 0.6318721008920851, -0.09241042413200094, -0.07931954178896244], [6.666666666666667, -0.31360295010419365, -0.32470380250635705, 0.6524043662202249, -0.09391733936209141, -0.10118872682270602], [6.767676767676767, -0.28811113085031465, -0.3343472334793627, 0.6813087395165617, -0.12038759542352208, -0.059357151717033894], [6.8686868686868685, -0.25346033761809994, -0.33311627672164257, 0.6657189662322371, -0.16764786288735534, -0.049534272484329164], [6.96969696969697, -0.24272948654385576, -0.32023442491844467, 0.6183953983887588, -0.13001847643309164, -0.06475578066812579], [7.070707070707071, -0.28071991119810014, -0.2966428290842777, 0.5884168828106956, -0.1472292545260669, -0.09939140474838612], [7.171717171717171, -0.2710541314852019, -0.32725118856571556, 0.5448865925493243, -0.14035774630983475, -0.10053333553395279], [7.2727272727272725, -0.2278287143393486, -0.345147110295959, 0.5302189256094583, -0.172440243254804, -0.08670919048636945], [7.373737373737374, -0.2432261950262639, -0.32083881372264117, 0.5714922895138319, -0.19520153925486639, -0.06698055051117711], [7.474747474747475, -0.2066783498319222, -0.32171046782101437, 0.5364639375670472, -0.16753510983257155, -0.039651967503549726], [7.575757575757575, -0.24103763658748475, -0.27792033096458757, 0.5718959211733564, -0.14924342121057135, -0.0071014988117375985], [7.6767676767676765, -0.27838813430275267, -0.2933345010454477, 0.5621288231817024, -0.12217118911155714, 0.018344591140837738], [7.777777777777778, -0.32039190796634043, -0.2976825146084982, 0.6029619581139494, -0.07980371723554874, 0.053514052148476675], [7.878787878787879, -0.30570514831785156, -0.25841020230982803, 0.5551457992362743, -0.10558843135028059, 0.02168802545266809], [7.979797979797979, -0.3261253155903351, -0.27820729884153644, 0.5622389111796706, -0.06324004624002107, 0.00017834610299299544], [8.080808080808081, -0.360915722798037, -0.25962016698581847, 0.5860043092632479, -0.062141986005851094, 0.020974833860206918], [8.181818181818182, -0.3602384668713671, -0.2185707174903696, 0.5603487023097206, -0.11107954171376633, -0.008108851241625786], [8.282828282828282, -0.3412503353648973, -0.23900902288517384, 0.5393041186299432, -0.07461128140400346, 0.003139594906452065], [8.383838383838384, -0.3718367728311028, -0.23238140282908815, 0.5331666630771805, -0.08283783904598654, -0.043346159800326634], [8.484848484848484, -0.3402955542893863, -0.22046811604877303, 0.5051209102637262, -0.112049922762687, 0.00012435303603141462], [8.585858585858587, -0.3417074022902919, -0.17480564455903655, 0.5494988799318757, -0.11527106331953133, -0.040897637608616234], [8.686868686868687, -0.3367213857321274, -0.21111600075398276, 0.5109943612118014, -0.1652413605971122, -0.05742991145601603], [8.787878787878787, -0.32092329111785706, -0.21498659780368992, 0.4924018040185604, -0.15989064478745865, -0.03159611081129775], [8.88888888888889, -0.3111232489150502, -0.2138507500875832, 0.44642736301431724, -0.1689374670213193, -0.074529096379375], [8.98989898989899, -0.3503135538578811, -0.2593485358432446, 0.4143433872023345, -0.1393720678921625, -0.0956578689922647], [9.09090909090909, -0.34300693564348145, -0.27204710795667886, 0.3752931955857971, -0.12416367922890348, -0.06811232778403441], [9.191919191919192, -0.3862953090822101, -0.26767294396029095, 0.3744292934082697, -0.07792707839380095, -0.08950472172839237], [9.292929292929292, -0.3596139655662062, -0.2390647288849713, 0.32997482977468784, -0.0965656766347707, -0.07871170137396108], [9.393939393939394, -0.31196432428663995, -0.27847554824931614, 0.36935087547902085, -0.12594421721311638, -0.10577760146940152], [9.494949494949495, -0.27376300875398185, -0.26660436775782875, 0.3779358984270898, -0.11158410837758916, -0.09889529319402958], [9.595959595959595, -0.2472779126373038, -0.3150945367516932, 0.3495179804003357, -0.1408791075488561, -0.0886260189313553], [9.696969696969697, -0.21509111065490302, -0.26833689392692356, 0.32866244575169556, -0.1493568705866573, -0.04468896937474706], [9.797979797979798, -0.19783028861055216, -0.3095154924863248, 0.32532278040744234, -0.15658311339331965, -0.07439965155159557], [9.8989898989899, -0.24414861152542186, -0.3053211562841212, 0.35801467107450774, -0.2026772071067247, -0.11351861364522058], [10.0, -0.27379534495744284, -0.28896961797425286, 0.3678864443487661, -0.19618859915519157, -0.06513711900637964]]}, "id": "el16824521029616"});
            })
         });
}
</script>